---
import Layout from '../layouts/Layout.astro';

const BASE_URL_LOGOS = 'https://kings-league-api.carlos-betan-42.workers.dev/static/logos';

const response = await fetch('https://kings-league-api.carlos-betan-42.workers.dev/teams');
const teams = await response.json();
---

<Layout title='Kings League InfoJobs'>
  <div class='container m-auto'>
    <header class='flex'>
      {
        teams.map(({ id, image, name }) => {
          return (
            <div>
              <a href={`/team/${id}`}>
                <img
                  class='aspect-square w-12'
                  src={`${BASE_URL_LOGOS}${image}`}
                  alt={`Escudo del equipo ${name}`}
                />
              </a>
            </div>
          );
        })
      }
      <nav>
        <ul>
          <li>
            <a href='/'>Home</a>
          </li>
          <li>
            <a href='/teams'>Teams</a>
          </li>
          <li>
            <a href='/calendario'>Calendario</a>
          </li>
          <li>
            <a href='/estadisticas'>Estadisticas</a>
          </li>
          <li>
            <a href='/contacto'>Contacto</a>
          </li>
          <li>
            <a href='/reglamento'>Reglamento</a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <h1 class='text-6xl'>Home</h1>
      <p class='text-red-500'>Welcome to Astro!</p>
    </main>
  </div>
</Layout>

<style>
  main {
    margin: auto;
    padding: 1.5rem;
    max-width: 60ch;
  }
</style>

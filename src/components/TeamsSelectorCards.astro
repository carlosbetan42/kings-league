---
import { getAllTeams } from '@services/teams';

const BASE_URL_LOGOS = 'https://kings-league-api.carlos-betan-42.workers.dev/static/logos';

const teams = await getAllTeams();
---

<section class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8'>
  {
    teams.map((team) => {
      const { id, name, imageWhite, color } = team;

      return (
        <article
          class='overflow-hidden col-span-1 rounded aspect-video bg-gradient-to-tr from-gray-600 to-gray-900'
          style={`--tw-gradient-from: ${color}`}
        >
          <a
            class='group transition-all hover:scale-110 flex gap-x-4 h-full items-center justify-center relative p-4'
            href={`/team/${id}`}
            title={`Ver equipo ${name}`}
          >
            <img
              alt={`Logo del equipo ${name}`}
              class='brightness-[100] transition-all group-hover:scale-110 group-hover:brightness-200 z-10 w-14 h-14'
              src={`${BASE_URL_LOGOS}${imageWhite}`}
            />
            <h3 class='z-10 font-title text-white text-xl xl:text-2xl'>{name}</h3>
            <div
              class={`z-0 absolute inset-0 opacity-10 bg-center bg-[size:150%] group-hover:bg-[size:200] transition`}
              style={`background-image: url(${BASE_URL_LOGOS}${imageWhite})`}
            />
          </a>
        </article>
      );
    })
  }
</section>
